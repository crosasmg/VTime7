/*!
 * jQuery periodic plugin
 *
 * Copyright 2010, Tom Anderson
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 */
jQuery.periodic=function(n,t){function u(){o();i.tid=setTimeout(function(){t.call(i);e();i.tid&&u()},i.cur_period)}function s(n,t){t==="success"&&r!==n.responseText&&(r=n.responseText,f())}function e(){i.cur_period*=i.decay;i.cur_period<i.period?f():i.cur_period>i.max_period&&(i.cur_period=i.max_period,i.on_max!==undefined&&i.on_max.call(i))}function f(){i.cur_period=i.period;u()}function o(){clearTimeout(i.tid);i.tid=null}var i,r;return jQuery.isFunction(n)&&(t=n,n={}),i=jQuery.extend({},jQuery.periodic.defaults,{ajax_complete:s,increment:e,reset:f,cancel:o},n),i.cur_period=i.period,i.tid=!1,r="",u(),i};jQuery.periodic.defaults={period:4e3,max_period:18e5,decay:1.5,on_max:undefined};