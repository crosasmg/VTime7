/**
  * bootstrap-table - An extended Bootstrap table with radio, checkbox, sort, pagination, and other added features. (supports twitter bootstrap v2 and v3).
  *
  * @version v1.13.5
  * @homepage https://bootstrap-table.com
  * @author wenzhixin <wenzhixin2010@gmail.com> (http://wenzhixin.net.cn/)
  * @license MIT
  */

!function(t,i){if("function"==typeof define&&define.amd)define([],i);else if("undefined"!=typeof exports)i();else{i(),t.bootstrapTable={}}}(this,function(){"use strict";var t=function(){function t(t,i){for(var e=0;e<i.length;e++){var o=i[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(i,e,o){return e&&t(i.prototype,e),o&&t(i,o),i}}(),i=function(){return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,i){var e=[],o=!0,s=!1,n=void 0;try{for(var a,r=t[Symbol.iterator]();!(o=(a=r.next()).done)&&(e.push(a.value),!i||e.length!==i);o=!0);}catch(t){s=!0,n=t}finally{try{!o&&r.return&&r.return()}finally{if(s)throw n}}return e}(t,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function e(t){if(Array.isArray(t)){for(var i=0,e=Array(t.length);i<t.length;i++)e[i]=t[i];return e}return void 0===t?[]:Array.from(t)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(s){var n=3;try{var a=s.fn.dropdown.Constructor.VERSION;void 0!==a&&(n=parseInt(a,10))}catch(t){}var r={3:{iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggleOff:"glyphicon-list-alt icon-list-alt",toggleOn:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus",fullscreen:"glyphicon-fullscreen"},classes:{buttons:"default",pull:"pull"},html:{toobarDropdow:['<ul class="dropdown-menu" role="menu">',"</ul>"],toobarDropdowItem:'<li role="menuitem"><label>%s</label></li>',pageDropdown:['<ul class="dropdown-menu" role="menu">',"</ul>"],pageDropdownItem:'<li role="menuitem" class="%s"><a href="#">%s</a></li>'}},4:{iconsPrefix:"fa",icons:{paginationSwitchDown:"fa-caret-square-down",paginationSwitchUp:"fa-caret-square-up",refresh:"fa-sync",toggleOff:"fa-toggle-off",toggleOn:"fa-toggle-on",columns:"fa-th-list",detailOpen:"fa-plus",detailClose:"fa-minus",fullscreen:"fa-arrows-alt"},classes:{buttons:"secondary",pull:"float"},html:{toobarDropdow:['<div class="dropdown-menu dropdown-menu-right">',"</div>"],toobarDropdowItem:'<label class="dropdown-item">%s</label>',pageDropdown:['<div class="dropdown-menu">',"</div>"],pageDropdownItem:'<a class="dropdown-item %s" href="#">%s</a>'}}}[n],l={bootstrapVersion:n,sprintf:function(t){for(var i=arguments.length,e=Array(i>1?i-1:0),o=1;o<i;o++)e[o-1]=arguments[o];var s=!0,n=0,a=t.replace(/%s/g,function(){var t=e[n++];return void 0===t?(s=!1,""):t});return s?a:""},getFieldTitle:function(t,i){var e=t,o=Array.isArray(e),s=0;for(e=o?e:e[Symbol.iterator]();;){var n;if(o){if(s>=e.length)break;n=e[s++]}else{if((s=e.next()).done)break;n=s.value}var a=n;if(a.field===i)return a.title}return""},setFieldIndex:function(t){var i=0,e=[],o=t[0],s=Array.isArray(o),n=0;for(o=s?o:o[Symbol.iterator]();;){var a;if(s){if(n>=o.length)break;a=o[n++]}else{if((n=o.next()).done)break;a=n.value}i+=a.colspan||1}for(var r=0;r<t.length;r++){e[r]=[];for(var l=0;l<i;l++)e[r][l]=!1}for(var h=0;h<t.length;h++){var d=t[h],c=Array.isArray(d),p=0;for(d=c?d:d[Symbol.iterator]();;){var f;if(c){if(p>=d.length)break;f=d[p++]}else{if((p=d.next()).done)break;f=p.value}var u=f,g=u.rowspan||1,b=u.colspan||1,v=e[h].indexOf(!1);1===b&&(u.fieldIndex=v,void 0===u.field&&(u.field=v));for(var y=0;y<g;y++)e[h+y][v]=!0;for(var m=0;m<b;m++)e[h][v+m]=!0}}},getScrollBarWidth:function(){if(void 0===this.cachedWidth){var t=s("<div/>").addClass("fixed-table-scroll-inner"),i=s("<div/>").addClass("fixed-table-scroll-outer");i.append(t),s("body").append(i);var e=t[0].offsetWidth;i.css("overflow","scroll");var o=t[0].offsetWidth;e===o&&(o=i[0].clientWidth),i.remove(),this.cachedWidth=e-o}return this.cachedWidth},calculateObjectValue:function(t,i,s,n){var a=i;if("string"==typeof i){var r=i.split(".");if(r.length>1){a=window;var l=r,h=Array.isArray(l),d=0;for(l=h?l:l[Symbol.iterator]();;){var c;if(h){if(d>=l.length)break;c=l[d++]}else{if((d=l.next()).done)break;c=d.value}a=a[c]}}else a=window[i]}return null!==a&&"object"===(void 0===a?"undefined":o(a))?a:"function"==typeof a?a.apply(t,s||[]):!a&&"string"==typeof i&&this.sprintf.apply(this,[i].concat(e(s)))?this.sprintf.apply(this,[i].concat(e(s))):n},compareObjects:function(t,i,e){var o=Object.keys(t),s=Object.keys(i);if(e&&o.length!==s.length)return!1;var n=o,a=Array.isArray(n),r=0;for(n=a?n:n[Symbol.iterator]();;){var l;if(a){if(r>=n.length)break;l=n[r++]}else{if((r=n.next()).done)break;l=r.value}var h=l;if(-1!==s.indexOf(h)&&t[h]!==i[h])return!1}return!0},escapeHTML:function(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#x60;"):t},getRealDataAttr:function(t){var e=function(t){return Object.keys(t).map(function(i){return[i,t[i]]})}(t),o=Array.isArray(e),s=0;for(e=o?e:e[Symbol.iterator]();;){var n;if(o){if(s>=e.length)break;n=e[s++]}else{if((s=e.next()).done)break;n=s.value}var a=i(n,2),r=a[0],l=a[1],h=r.split(/(?=[A-Z])/).join("-").toLowerCase();h!==r&&(t[h]=l,delete t[r])}return t},getItemField:function(t,i,e){var o=t;if("string"!=typeof i||t.hasOwnProperty(i))return e?this.escapeHTML(t[i]):t[i];var s=i.split("."),n=Array.isArray(s),a=0;for(s=n?s:s[Symbol.iterator]();;){var r;if(n){if(a>=s.length)break;r=s[a++]}else{if((a=s.next()).done)break;r=a.value}o=o&&o[r]}return e?this.escapeHTML(o):o},isIEBrowser:function(){return-1!==navigator.userAgent.indexOf("MSIE ")||/Trident.*rv:11\./.test(navigator.userAgent)},findIndex:function(t,i){var e=t,o=Array.isArray(e),s=0;for(e=o?e:e[Symbol.iterator]();;){var n;if(o){if(s>=e.length)break;n=e[s++]}else{if((s=e.next()).done)break;n=s.value}var a=n;if(JSON.stringify(a)===JSON.stringify(i))return t.indexOf(a)}return-1}},h={height:void 0,classes:"table table-bordered table-hover",theadClasses:"",rowStyle:function(t,i){return{}},rowAttributes:function(t,i){return{}},undefinedText:"-",locale:void 0,sortable:!0,sortClass:void 0,silentSort:!0,sortName:void 0,sortOrder:"asc",sortStable:!1,rememberOrder:!1,customSort:void 0,columns:[[]],data:[],url:void 0,method:"get",cache:!0,contentType:"application/json",dataType:"json",ajax:void 0,ajaxOptions:{},queryParams:function(t){return t},queryParamsType:"limit",responseHandler:function(t){return t},totalField:"total",dataField:"rows",pagination:!1,onlyInfoPagination:!1,paginationLoop:!0,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",paginationSuccessivelySize:5,paginationPagesBySide:1,paginationUseIntermediate:!1,search:!1,searchOnEnterKey:!1,strictSearch:!1,trimOnSearch:!0,searchAlign:"right",searchTimeOut:500,searchText:"",customSearch:void 0,showHeader:!0,showFooter:!1,footerStyle:function(t,i){return{}},showColumns:!1,minimumCountColumns:1,showPaginationSwitch:!1,showRefresh:!1,showToggle:!1,showFullscreen:!1,smartDisplay:!0,escape:!1,idField:void 0,uniqueId:void 0,cardView:!1,detailView:!1,detailFormatter:function(t,i){return""},detailFilter:function(t,i){return!0},selectItemName:"btSelectItem",clickToSelect:!1,ignoreClickToSelectOn:function(t){var i=t.tagName;return-1!==["A","BUTTON"].indexOf(i)},singleSelect:!1,checkboxHeader:!0,maintainSelected:!1,toolbar:void 0,toolbarAlign:"left",buttonsToolbar:void 0,buttonsAlign:"right",buttonsClass:r.classes.buttons,icons:r.icons,iconSize:void 0,iconsPrefix:r.iconsPrefix,onAll:function(t,i){return!1},onClickCell:function(t,i,e,o){return!1},onDblClickCell:function(t,i,e,o){return!1},onClickRow:function(t,i){return!1},onDblClickRow:function(t,i){return!1},onSort:function(t,i){return!1},onCheck:function(t){return!1},onUncheck:function(t){return!1},onCheckAll:function(t){return!1},onUncheckAll:function(t){return!1},onCheckSome:function(t){return!1},onUncheckSome:function(t){return!1},onLoadSuccess:function(t){return!1},onLoadError:function(t){return!1},onColumnSwitch:function(t,i){return!1},onPageChange:function(t,i){return!1},onSearch:function(t){return!1},onToggle:function(t){return!1},onPreBody:function(t){return!1},onPostBody:function(){return!1},onPostHeader:function(){return!1},onExpandRow:function(t,i,e){return!1},onCollapseRow:function(t,i){return!1},onRefreshOptions:function(t){return!1},onRefresh:function(t){return!1},onResetView:function(){return!1},onScrollBody:function(){return!1}},d={};d["en-US"]=d.en={formatLoadingMessage:function(){return"Loading, please wait..."},formatRecordsPerPage:function(t){return l.sprintf("%s rows per page",t)},formatShowingRows:function(t,i,e){return l.sprintf("Showing %s to %s of %s rows",t,i,e)},formatDetailPagination:function(t){return l.sprintf("Showing %s rows",t)},formatSearch:function(){return"Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatFullscreen:function(){return"Fullscreen"},formatColumns:function(){return"Columns"},formatAllRows:function(){return"All"}},s.extend(h,d["en-US"]);var c={radio:!1,checkbox:!1,checkboxEnabled:!0,field:void 0,title:void 0,titleTooltip:void 0,class:void 0,align:void 0,halign:void 0,falign:void 0,valign:void 0,width:void 0,sortable:!1,order:"asc",visible:!0,switchable:!0,clickToSelect:!0,formatter:void 0,footerFormatter:void 0,events:void 0,sorter:void 0,sortName:void 0,cellStyle:void 0,searchable:!0,searchFormatter:!0,cardVisible:!0,escape:!1,showSelectTitle:!1},p=function(){function e(t,i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=i,this.$el=s(t),this.$el_=this.$el.clone(),this.timeoutId_=0,this.timeoutFooter_=0,this.init()}return t(e,[{key:"init",value:function(){this.initLocale(),this.initContainer(),this.initTable(),this.initHeader(),this.initData(),this.initHiddenRows(),this.initFooter(),this.initToolbar(),this.initPagination(),this.initBody(),this.initSearchText(),this.initServer()}},{key:"initLocale",value:function(){if(this.options.locale){var t=s.fn.bootstrapTable.locales,i=this.options.locale.split(/-|_/);i[0]=i[0].toLowerCase(),i[1]&&(i[1]=i[1].toUpperCase()),t[this.options.locale]?s.extend(this.options,t[this.options.locale]):t[i.join("-")]?s.extend(this.options,t[i.join("-")]):t[i[0]]&&s.extend(this.options,t[i[0]])}}},{key:"initContainer",value:function(){var t=-1!==["top","both"].indexOf(this.options.paginationVAlign)?'<div class="fixed-table-pagination clearfix"></div>':"",i=-1!==["bottom","both"].indexOf(this.options.paginationVAlign)?'<div class="fixed-table-pagination"></div>':"";this.$container=s('\n        <div class="bootstrap-table">\n        <div class="fixed-table-toolbar"></div>\n        '+t+'\n        <div class="fixed-table-container">\n        <div class="fixed-table-header"><table></table></div>\n        <div class="fixed-table-body">\n        <div class="fixed-table-loading">\n        '+this.options.formatLoadingMessage()+'\n        </div>\n        </div>\n        <div class="fixed-table-footer"><table><thead><tr></tr></thead></table></div>\n        </div>\n        '+i+"\n        </div>\n      "),this.$container.insertAfter(this.$el),this.$tableContainer=this.$container.find(".fixed-table-container"),this.$tableHeader=this.$container.find(".fixed-table-header"),this.$tableBody=this.$container.find(".fixed-table-body"),this.$tableLoading=this.$container.find(".fixed-table-loading"),this.$tableFooter=this.$container.find(".fixed-table-footer"),this.options.buttonsToolbar?this.$toolbar=s("body").find(this.options.buttonsToolbar):this.$toolbar=this.$container.find(".fixed-table-toolbar"),this.$pagination=this.$container.find(".fixed-table-pagination"),this.$tableBody.append(this.$el),this.$container.after('<div class="clearfix"></div>'),this.$el.addClass(this.options.classes),this.options.height&&(this.$tableContainer.addClass("fixed-height"),this.options.showFooter&&this.$tableContainer.addClass("has-footer"),-1!==this.options.classes.split(" ").indexOf("table-bordered")&&(this.$tableBody.append('<div class="fixed-table-border"></div>'),this.$tableBorder=this.$tableBody.find(".fixed-table-border"),this.$tableLoading.addClass("fixed-table-border")))}},{key:"initTable",value:function(){var t=this,i=[],o=[];if(this.$header=this.$el.find(">thead"),this.$header.length?this.options.theadClasses&&this.$header.addClass(this.options.theadClasses):this.$header=s('<thead class="'+this.options.theadClasses+'"></thead>').appendTo(this.$el),this.$header.find("tr").each(function(t,e){var o=[];s(e).find("th").each(function(t,i){void 0!==s(i).data("field")&&s(i).data("field",""+s(i).data("field")),o.push(s.extend({},{title:s(i).html(),class:s(i).attr("class"),titleTooltip:s(i).attr("title"),rowspan:s(i).attr("rowspan")?+s(i).attr("rowspan"):void 0,colspan:s(i).attr("colspan")?+s(i).attr("colspan"):void 0},s(i).data()))}),i.push(o)}),Array.isArray(this.options.columns[0])||(this.options.columns=[this.options.columns]),this.options.columns=s.extend(!0,[],i,this.options.columns),this.columns=[],this.fieldsColumnsIndex=[],l.setFieldIndex(this.options.columns),this.options.columns.forEach(function(i,o){i.forEach(function(i,n){var a=s.extend({},e.COLUMN_DEFAULTS,i);void 0!==a.fieldIndex&&(t.columns[a.fieldIndex]=a,t.fieldsColumnsIndex[a.field]=a.fieldIndex),t.options.columns[o][n]=a})}),!this.options.data.length){var n=[];this.$el.find(">tbody>tr").each(function(i,e){var a={};a._id=s(e).attr("id"),a._class=s(e).attr("class"),a._data=l.getRealDataAttr(s(e).data()),s(e).find(">td").each(function(e,o){for(var r=+s(o).attr("colspan")||1,h=+s(o).attr("rowspan")||1,d=e;n[i]&&n[i][d];d++);for(var c=d;c<d+r;c++)for(var p=i;p<i+h;p++)n[p]||(n[p]=[]),n[p][c]=!0;var f=t.columns[d].field;a[f]=s(o).html().trim(),a["_"+f+"_id"]=s(o).attr("id"),a["_"+f+"_class"]=s(o).attr("class"),a["_"+f+"_rowspan"]=s(o).attr("rowspan"),a["_"+f+"_colspan"]=s(o).attr("colspan"),a["_"+f+"_title"]=s(o).attr("title"),a["_"+f+"_data"]=l.getRealDataAttr(s(o).data())}),o.push(a)}),this.options.data=o,o.length&&(this.fromHtml=!0)}}},{key:"initHeader",value:function(){var t=this,i={},e=[];this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]},this.options.columns.forEach(function(o,s){e.push("<tr>"),0===s&&!t.options.cardView&&t.options.detailView&&e.push('<th class="detail" rowspan="'+t.options.columns.length+'">\n            <div class="fht-cell"></div>\n            </th>\n          '),o.forEach(function(o,n){var a,r,h="",d="",c=l.sprintf(' class="%s"',o.class),p="px",f=o.width;if(void 0===o.width||t.options.cardView||"string"==typeof o.width&&-1!==o.width.indexOf("%")&&(p="%"),o.width&&"string"==typeof o.width&&(f=o.width.replace("%","").replace("px","")),a=l.sprintf("text-align: %s; ",o.halign?o.halign:o.align),r=l.sprintf("text-align: %s; ",o.align),d=l.sprintf("vertical-align: %s; ",o.valign),d+=l.sprintf("width: %s; ",!o.checkbox&&!o.radio||f?f?f+p:void 0:o.showSelectTitle?void 0:"36px"),void 0!==o.fieldIndex){if(t.header.fields[o.fieldIndex]=o.field,t.header.styles[o.fieldIndex]=r+d,t.header.classes[o.fieldIndex]=c,t.header.formatters[o.fieldIndex]=o.formatter,t.header.events[o.fieldIndex]=o.events,t.header.sorters[o.fieldIndex]=o.sorter,t.header.sortNames[o.fieldIndex]=o.sortName,t.header.cellStyles[o.fieldIndex]=o.cellStyle,t.header.searchables[o.fieldIndex]=o.searchable,!o.visible)return;if(t.options.cardView&&!o.cardVisible)return;i[o.field]=o}e.push("<th"+l.sprintf(' title="%s"',o.titleTooltip),o.checkbox||o.radio?l.sprintf(' class="bs-checkbox %s"',o.class||""):c,l.sprintf(' style="%s"',a+d),l.sprintf(' rowspan="%s"',o.rowspan),l.sprintf(' colspan="%s"',o.colspan),l.sprintf(' data-field="%s"',o.field),0===n&&s>0?" data-not-first-th":"",">"),e.push(l.sprintf('<div class="th-inner %s">',t.options.sortable&&o.sortable?"sortable both":""));var u=h=t.options.escape?l.escapeHTML(o.title):o.title;o.checkbox&&(h="",!t.options.singleSelect&&t.options.checkboxHeader&&(h='<input name="btSelectAll" type="checkbox" />'),t.header.stateField=o.field),o.radio&&(h="",t.header.stateField=o.field,t.options.singleSelect=!0),!h&&o.showSelectTitle&&(h+=u),e.push(h),e.push("</div>"),e.push('<div class="fht-cell"></div>'),e.push("</div>"),e.push("</th>")}),e.push("</tr>")}),this.$header.html(e.join("")),this.$header.find("th[data-field]").each(function(t,e){s(e).data(i[s(e).data("field")])}),this.$container.off("click",".th-inner").on("click",".th-inner",function(i){var e=s(i.currentTarget);if(t.options.detailView&&!e.parent().hasClass("bs-checkbox")&&e.closest(".bootstrap-table")[0]!==t.$container[0])return!1;t.options.sortable&&e.parent().data().sortable&&t.onSort(i)}),this.$header.children().children().off("keypress").on("keypress",function(i){t.options.sortable&&s(i.currentTarget).data().sortable&&(13===(i.keyCode||i.which)&&t.onSort(i))}),s(window).off("resize.bootstrap-table"),!this.options.showHeader||this.options.cardView?(this.$header.hide(),this.$tableHeader.hide(),this.$tableLoading.css("top",0)):(this.$header.show(),this.$tableHeader.show(),this.$tableLoading.css("top",this.$header.outerHeight()+1),this.getCaret(),s(window).on("resize.bootstrap-table",s.proxy(this.resetWidth,this))),this.$selectAll=this.$header.find('[name="btSelectAll"]'),this.$selectAll.off("click").on("click",function(i){var e=i.currentTarget,o=s(e).prop("checked");t[o?"checkAll":"uncheckAll"](),t.updateSelected()})}},{key:"initFooter",value:function(){!this.options.showFooter||this.options.cardView?this.$tableFooter.hide():this.$tableFooter.show()}},{key:"initData",value:function(t,i){this.options.data="append"===i?this.options.data.concat(t):"prepend"===i?[].concat(t).concat(this.options.data):t||this.options.data,this.data=this.options.data,"server"!==this.options.sidePagination&&this.initSort()}},{key:"initSort",value:function(){var t=this,i=this.options.sortName,e="desc"===this.options.sortOrder?-1:1,o=this.header.fields.indexOf(this.options.sortName),n=0;-1!==o&&(this.options.sortStable&&this.data.forEach(function(t,i){t.hasOwnProperty("_position")||(t._position=i)}),this.options.customSort?l.calculateObjectValue(this.options,this.options.customSort,[this.options.sortName,this.options.sortOrder,this.data]):this.data.sort(function(n,a){t.header.sortNames[o]&&(i=t.header.sortNames[o]);var r=l.getItemField(n,i,t.options.escape),h=l.getItemField(a,i,t.options.escape),d=l.calculateObjectValue(t.header,t.header.sorters[o],[r,h,n,a]);return void 0!==d?t.options.sortStable&&0===d?e*(n._position-a._position):e*d:(null==r&&(r=""),null==h&&(h=""),t.options.sortStable&&r===h&&(r=n._position,h=a._position),s.isNumeric(r)&&s.isNumeric(h)?(r=parseFloat(r))<(h=parseFloat(h))?-1*e:r>h?e:0:r===h?0:("string"!=typeof r&&(r=r.toString()),-1===r.localeCompare(h)?-1*e:e))}),void 0!==this.options.sortClass&&(clearTimeout(n),n=setTimeout(function(){t.$el.removeClass(t.options.sortClass);var i=t.$header.find('[data-field="'+t.options.sortName+'"]').index();t.$el.find("tr td:nth-child("+(i+1)+")").addClass(t.options.sortClass)},250)))}},{key:"onSort",value:function(t){var i=t.type,e=t.currentTarget,o="keypress"===i?s(e):s(e).parent(),n=this.$header.find("th").eq(o.index());this.$header.add(this.$header_).find("span.order").remove(),this.options.sortName===o.data("field")?this.options.sortOrder="asc"===this.options.sortOrder?"desc":"asc":(this.options.sortName=o.data("field"),this.options.rememberOrder?this.options.sortOrder="asc"===o.data("order")?"desc":"asc":this.options.sortOrder=this.columns[this.fieldsColumnsIndex[o.data("field")]].order),this.trigger("sort",this.options.sortName,this.options.sortOrder),o.add(n).data("order",this.options.sortOrder),this.getCaret(),"server"!==this.options.sidePagination?(this.initSort(),this.initBody()):this.initServer(this.options.silentSort)}},{key:"initToolbar",value:function(){var t=this,i=[],e=0,n=void 0,a=void 0,h=0;this.$toolbar.find(".bs-bars").children().length&&s("body").append(s(this.options.toolbar)),this.$toolbar.html(""),"string"!=typeof this.options.toolbar&&"object"!==o(this.options.toolbar)||s(l.sprintf('<div class="bs-bars %s-%s"></div>',r.classes.pull,this.options.toolbarAlign)).appendTo(this.$toolbar).append(s(this.options.toolbar)),i=[l.sprintf('<div class="columns columns-%s btn-group %s-%s">',this.options.buttonsAlign,r.classes.pull,this.options.buttonsAlign)],"string"==typeof this.options.icons&&(this.options.icons=l.calculateObjectValue(null,this.options.icons)),this.options.showPaginationSwitch&&i.push(l.sprintf('<button class="btn'+l.sprintf(" btn-%s",this.options.buttonsClass)+l.sprintf(" btn-%s",this.options.iconSize)+'" type="button" name="paginationSwitch" aria-label="pagination Switch" title="%s">',this.options.formatPaginationSwitch()),l.sprintf('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),"</button>"),this.options.showRefresh&&i.push(l.sprintf('<button class="btn'+l.sprintf(" btn-%s",this.options.buttonsClass)+l.sprintf(" btn-%s",this.options.iconSize)+'" type="button" name="refresh" aria-label="refresh" title="%s">',this.options.formatRefresh()),l.sprintf('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>"),this.options.showToggle&&i.push(l.sprintf('<button class="btn'+l.sprintf(" btn-%s",this.options.buttonsClass)+l.sprintf(" btn-%s",this.options.iconSize)+'" type="button" name="toggle" aria-label="toggle" title="%s">',this.options.formatToggle()),l.sprintf('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggleOff),"</button>"),this.options.showFullscreen&&i.push(l.sprintf('<button class="btn'+l.sprintf(" btn-%s",this.options.buttonsClass)+l.sprintf(" btn-%s",this.options.iconSize)+'" type="button" name="fullscreen" aria-label="fullscreen" title="%s">',this.options.formatFullscreen()),l.sprintf('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.fullscreen),"</button>"),this.options.showColumns&&(i.push(l.sprintf('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" aria-label="columns" class="btn'+l.sprintf(" btn-%s",this.options.buttonsClass)+l.sprintf(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',l.sprintf('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>',"</button>",r.html.toobarDropdow[0]),this.columns.forEach(function(e,o){if(!e.radio&&!e.checkbox&&(!t.options.cardView||e.cardVisible)){var s=e.visible?' checked="checked"':"";e.switchable&&(i.push(l.sprintf(r.html.toobarDropdowItem,l.sprintf('<input type="checkbox" data-field="%s" value="%s"%s> %s',e.field,o,s,e.title))),h++)}}),i.push(r.html.toobarDropdow[1],"</div>")),i.push("</div>"),(this.showToolbar||i.length>2)&&this.$toolbar.append(i.join("")),this.options.showPaginationSwitch&&this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",s.proxy(this.togglePagination,this)),this.options.showFullscreen&&this.$toolbar.find('button[name="fullscreen"]').off("click").on("click",s.proxy(this.toggleFullscreen,this)),this.options.showRefresh&&this.$toolbar.find('button[name="refresh"]').off("click").on("click",s.proxy(this.refresh,this)),this.options.showToggle&&this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){t.toggleView()}),this.options.showColumns&&(n=this.$toolbar.find(".keep-open"),h<=this.options.minimumCountColumns&&n.find("input").prop("disabled",!0),n.find("li").off("click").on("click",function(t){t.stopImmediatePropagation()}),n.find("input").off("click").on("click",function(i){var e=i.currentTarget,o=s(e);t.toggleColumn(o.val(),o.prop("checked"),!1),t.trigger("column-switch",o.data("field"),o.prop("checked"))})),this.options.search&&((i=[]).push(l.sprintf('<div class="%s-%s search">',r.classes.pull,this.options.searchAlign),l.sprintf('<input class="form-control'+l.sprintf(" input-%s",this.options.iconSize)+'" type="text" placeholder="%s">',this.options.formatSearch()),"</div>"),this.$toolbar.append(i.join("")),(a=this.$toolbar.find(".search input")).off("keyup drop blur").on("keyup drop blur",function(i){t.options.searchOnEnterKey&&13!==i.keyCode||-1===[37,38,39,40].indexOf(i.keyCode)&&(clearTimeout(e),e=setTimeout(function(){t.onSearch(i)},t.options.searchTimeOut))}),l.isIEBrowser()&&a.off("mouseup").on("mouseup",function(i){clearTimeout(e),e=setTimeout(function(){t.onSearch(i)},t.options.searchTimeOut)}))}},{key:"onSearch",value:function(t){var i=t.currentTarget,e=t.firedByInitSearchText,o=s.trim(s(i).val());this.options.trimOnSearch&&s(i).val()!==o&&s(i).val(o),o!==this.searchText&&(this.searchText=o,this.options.searchText=o,e||(this.options.pageNumber=1),this.initSearch(),e?"client"===this.options.sidePagination&&this.updatePagination():this.updatePagination(),this.trigger("search",o))}},{key:"initSearch",value:function(){var t=this;if("server"!==this.options.sidePagination){if(this.options.customSearch)return void(this.data=l.calculateObjectValue(this.options,this.options.customSearch,[this.options.data,this.searchText]));var i=this.searchText&&(this.options.escape?l.escapeHTML(this.searchText):this.searchText).toLowerCase(),e=s.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=e?this.options.data.filter(function(t,i){for(var o in e)if(Array.isArray(e[o])&&-1===e[o].indexOf(t[o])||!Array.isArray(e[o])&&t[o]!==e[o])return!1;return!0}):this.options.data,this.data=i?this.data.filter(function(e,o){for(var n=0;n<t.header.fields.length;n++)if(t.header.searchables[n]){var a=s.isNumeric(t.header.fields[n])?parseInt(t.header.fields[n],10):t.header.fields[n],r=t.columns[t.fieldsColumnsIndex[a]],h=void 0;if("string"==typeof a){h=e;for(var d=a.split("."),c=0;c<d.length;c++)null!==h[d[c]]&&(h=h[d[c]])}else h=e[a];if(r&&r.searchFormatter&&(h=l.calculateObjectValue(r,t.header.formatters[n],[h,e,o],h)),"string"==typeof h||"number"==typeof h)if(t.options.strictSearch){if((""+h).toLowerCase()===i)return!0}else if(-1!==(""+h).toLowerCase().indexOf(i))return!0}return!1}):this.data}}},{key:"initPagination",value:function(){var t=this;if(this.options.pagination){this.$pagination.show();var i=[],e=!1,o=void 0,n=void 0,a=void 0,h=void 0,d=void 0,c=void 0,p=void 0,f=this.getData(),u=this.options.pageList;if("server"!==this.options.sidePagination&&(this.options.totalRows=f.length),this.totalPages=0,this.options.totalRows){if(this.options.pageSize===this.options.formatAllRows())this.options.pageSize=this.options.totalRows,e=!0;else if(this.options.pageSize===this.options.totalRows){-1!==("string"==typeof this.options.pageList?this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.pageList).indexOf(this.options.formatAllRows().toLowerCase())&&(e=!0)}this.totalPages=1+~~((this.options.totalRows-1)/this.options.pageSize),this.options.totalPages=this.totalPages}if(this.totalPages>0&&this.options.pageNumber>this.totalPages&&(this.options.pageNumber=this.totalPages),this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1,this.pageTo=this.options.pageNumber*this.options.pageSize,this.pageTo>this.options.totalRows&&(this.pageTo=this.options.totalRows),i.push(l.sprintf('<div class="%s-%s pagination-detail">',r.classes.pull,this.options.paginationDetailHAlign),'<span class="pagination-info">',this.options.onlyInfoPagination?this.options.formatDetailPagination(this.options.totalRows):this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"</span>"),!this.options.onlyInfoPagination){i.push('<span class="page-list">');var g=[l.sprintf('<span class="btn-group %s">',"top"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?"dropdown":"dropup"),'<button type="button" class="btn'+l.sprintf(" btn-%s",this.options.buttonsClass)+l.sprintf(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',e?this.options.formatAllRows():this.options.pageSize,"</span>",' <span class="caret"></span>',"</button>",r.html.pageDropdown[0]];if("string"==typeof this.options.pageList){var b=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").split(",");u=[];var v=b,y=Array.isArray(v),m=0;for(v=y?v:v[Symbol.iterator]();;){var w;if(y){if(m>=v.length)break;w=v[m++]}else{if((m=v.next()).done)break;w=m.value}var k=w;u.push(k.toUpperCase()===this.options.formatAllRows().toUpperCase()||"UNLIMITED"===k.toUpperCase()?this.options.formatAllRows():+k)}}u.forEach(function(i,o){if(!t.options.smartDisplay||0===o||u[o-1]<t.options.totalRows){var s=void 0;s=e?i===t.options.formatAllRows()?"active":"":i===t.options.pageSize?"active":"",g.push(l.sprintf(r.html.pageDropdownItem,s,i))}}),g.push(r.html.pageDropdown[1]+"</span>"),i.push(this.options.formatRecordsPerPage(g.join(""))),i.push("</span>"),i.push("</div>",l.sprintf('<div class="%s-%s pagination">',r.classes.pull,this.options.paginationHAlign),'<ul class="pagination'+l.sprintf(" pagination-%s",this.options.iconSize)+'">',l.sprintf('<li class="page-item page-pre"><a class="page-link" href="#">%s</a></li>',this.options.paginationPreText)),this.totalPages<this.options.paginationSuccessivelySize?(n=1,a=this.totalPages):a=(n=this.options.pageNumber-this.options.paginationPagesBySide)+2*this.options.paginationPagesBySide,this.options.pageNumber<this.options.paginationSuccessivelySize-1&&(a=this.options.paginationSuccessivelySize),a>this.totalPages&&(a=this.totalPages),this.options.paginationSuccessivelySize>this.totalPages-n&&(n=n-(this.options.paginationSuccessivelySize-(this.totalPages-n))+1),n<1&&(n=1),a>this.totalPages&&(a=this.totalPages);var x=Math.round(this.options.paginationPagesBySide/2),S=function(i){return'\n          <li class="page-item'+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")+(i===t.options.pageNumber?" active":"")+'">\n            <a class="page-link" href="#">'+i+"</a>\n          </li>\n        "};if(n>1){var $=this.options.paginationPagesBySide;for($>=n&&($=n-1),o=1;o<=$;o++)i.push(S(o));n-1===$+1?(o=n-1,i.push(S(o))):n-1>$&&(n-2*this.options.paginationPagesBySide>this.options.paginationPagesBySide&&this.options.paginationUseIntermediate?(o=Math.round((n-x)/2+x),i.push(S(o," page-intermediate"))):i.push('\n                  <li class="page-item page-first-separator disabled">\n                    <a class="page-link" href="#">...</a>\n                  </li>'))}for(o=n;o<=a;o++)i.push(S(o));if(this.totalPages>a){var P=this.totalPages-(this.options.paginationPagesBySide-1);for(a>=P&&(P=a+1),a+1===P-1?(o=a+1,i.push(S(o))):P>a+1&&(this.totalPages-a>2*this.options.paginationPagesBySide&&this.options.paginationUseIntermediate?(o=Math.round((this.totalPages-x-a)/2+a),i.push(S(o," page-intermediate"))):i.push('\n                  <li class="page-item page-last-separator disabled">\n                    <a class="page-link" href="#">...</a>\n                  </li>')),o=P;o<=this.totalPages;o++)i.push(S(o))}i.push('\n          <li class="page-item page-next">\n          <a class="page-link" href="#">'+this.options.paginationNextText+"</a>\n          </li>\n          </ul>\n          </div>\n        ")}this.$pagination.html(i.join("")),this.options.onlyInfoPagination||(h=this.$pagination.find(".page-list a"),d=this.$pagination.find(".page-pre"),c=this.$pagination.find(".page-next"),p=this.$pagination.find(".page-item").not(".page-next, .page-pre"),this.options.smartDisplay&&(this.totalPages<=1&&this.$pagination.find("div.pagination").hide(),(u.length<2||this.options.totalRows<=u[0])&&this.$pagination.find("span.page-list").hide(),this.$pagination[this.getData().length?"show":"hide"]()),this.options.paginationLoop||(1===this.options.pageNumber&&d.addClass("disabled"),this.options.pageNumber===this.totalPages&&c.addClass("disabled")),e&&(this.options.pageSize=this.options.formatAllRows()),h.off("click").on("click",s.proxy(this.onPageListChange,this)),d.off("click").on("click",s.proxy(this.onPagePre,this)),c.off("click").on("click",s.proxy(this.onPageNext,this)),p.off("click").on("click",s.proxy(this.onPageNumber,this)))}else this.$pagination.hide()}},{key:"updatePagination",value:function(t){t&&s(t.currentTarget).hasClass("disabled")||(this.options.maintainSelected||this.resetRows(),this.initPagination(),"server"===this.options.sidePagination?this.initServer():this.initBody(),this.trigger("page-change",this.options.pageNumber,this.options.pageSize))}},{key:"onPageListChange",value:function(t){t.preventDefault();var i=s(t.currentTarget);return i.parent().addClass("active").siblings().removeClass("active"),this.options.pageSize=i.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+i.text(),this.$toolbar.find(".page-size").text(this.options.pageSize),this.updatePagination(t),!1}},{key:"onPagePre",value:function(t){return t.preventDefault(),this.options.pageNumber-1==0?this.options.pageNumber=this.options.totalPages:this.options.pageNumber--,this.updatePagination(t),!1}},{key:"onPageNext",value:function(t){return t.preventDefault(),this.options.pageNumber+1>this.options.totalPages?this.options.pageNumber=1:this.options.pageNumber++,this.updatePagination(t),!1}},{key:"onPageNumber",value:function(t){if(t.preventDefault(),this.options.pageNumber!==+s(t.currentTarget).text())return this.options.pageNumber=+s(t.currentTarget).text(),this.updatePagination(t),!1}},{key:"initRow",value:function(t,e,o,n){var a=this,r=[],h={},d=[],c="",p={},f=[];if(!(l.findIndex(this.hiddenRows,t)>-1)){if((h=l.calculateObjectValue(this.options,this.options.rowStyle,[t,e],h))&&h.css){var u=function(t){return Object.keys(t).map(function(i){return[i,t[i]]})}(h.css),g=Array.isArray(u),b=0;for(u=g?u:u[Symbol.iterator]();;){var v;if(g){if(b>=u.length)break;v=u[b++]}else{if((b=u.next()).done)break;v=b.value}var y=i(v,2),m=y[0],w=y[1];d.push(m+": "+w)}}if(p=l.calculateObjectValue(this.options,this.options.rowAttributes,[t,e],p)){var k=function(t){return Object.keys(t).map(function(i){return[i,t[i]]})}(p),x=Array.isArray(k),S=0;for(k=x?k:k[Symbol.iterator]();;){var $;if(x){if(S>=k.length)break;$=k[S++]}else{if((S=k.next()).done)break;$=S.value}var P=i($,2),C=P[0],A=P[1];f.push(C+'="'+l.escapeHTML(A)+'"')}}if(t._data&&!s.isEmptyObject(t._data)){var T=function(t){return Object.keys(t).map(function(i){return[i,t[i]]})}(t._data),O=Array.isArray(T),I=0;for(T=O?T:T[Symbol.iterator]();;){var R;if(O){if(I>=T.length)break;R=T[I++]}else{if((I=T.next()).done)break;R=I.value}var _=i(R,2),F=_[0],V=_[1];if("index"===F)return;c+=" data-"+F+'="'+V+'"'}}return r.push("<tr",l.sprintf(" %s",f.length?f.join(" "):void 0),l.sprintf(' id="%s"',Array.isArray(t)?void 0:t._id),l.sprintf(' class="%s"',h.classes||(Array.isArray(t)?void 0:t._class)),' data-index="'+e+'"',l.sprintf(' data-uniqueid="%s"',t[this.options.uniqueId]),l.sprintf("%s",c),">"),this.options.cardView&&r.push('<td colspan="'+this.header.fields.length+'"><div class="card-views">'),!this.options.cardView&&this.options.detailView&&(r.push("<td>"),l.calculateObjectValue(null,this.options.detailFilter,[e,t])&&r.push('\n            <a class="detail-icon" href="#">\n            <i class="'+this.options.iconsPrefix+" "+this.options.icons.detailOpen+'"></i>\n            </a>\n          '),r.push("</td>")),this.header.fields.forEach(function(o,n){var c="",p=l.getItemField(t,o,a.options.escape),f="",u="",g={},b="",v=a.header.classes[n],y="",m="",w="",k="",x="",S=a.columns[n];if((!a.fromHtml||void 0!==p||S.checkbox||S.radio)&&S.visible&&(!a.options.cardView||S.cardVisible)){if(S.escape&&(p=l.escapeHTML(p)),d.concat([a.header.styles[n]]).length&&(y=' style="'+d.concat([a.header.styles[n]]).join("; ")+'"'),t["_"+o+"_id"]&&(b=l.sprintf(' id="%s"',t["_"+o+"_id"])),t["_"+o+"_class"]&&(v=l.sprintf(' class="%s"',t["_"+o+"_class"])),t["_"+o+"_rowspan"]&&(w=l.sprintf(' rowspan="%s"',t["_"+o+"_rowspan"])),t["_"+o+"_colspan"]&&(k=l.sprintf(' colspan="%s"',t["_"+o+"_colspan"])),t["_"+o+"_title"]&&(x=l.sprintf(' title="%s"',t["_"+o+"_title"])),(g=l.calculateObjectValue(a.header,a.header.cellStyles[n],[p,t,e,o],g)).classes&&(v=' class="'+g.classes+'"'),g.css){var $=[],P=function(t){return Object.keys(t).map(function(i){return[i,t[i]]})}(g.css),C=Array.isArray(P),A=0;for(P=C?P:P[Symbol.iterator]();;){var T;if(C){if(A>=P.length)break;T=P[A++]}else{if((A=P.next()).done)break;T=A.value}var O=i(T,2),I=O[0],R=O[1];$.push(I+": "+R)}y=' style="'+$.concat(a.header.styles[n]).join("; ")+'"'}if(f=l.calculateObjectValue(S,a.header.formatters[n],[p,t,e,o],p),t["_"+o+"_data"]&&!s.isEmptyObject(t["_"+o+"_data"])){var _=function(t){return Object.keys(t).map(function(i){return[i,t[i]]})}(t["_"+o+"_data"]),F=Array.isArray(_),V=0;for(_=F?_:_[Symbol.iterator]();;){var N;if(F){if(V>=_.length)break;N=_[V++]}else{if((V=_.next()).done)break;N=V.value}var B=i(N,2),j=B[0],H=B[1];if("index"===j)return;m+=" data-"+j+'="'+H+'"'}}if(S.checkbox||S.radio){u=S.checkbox?"checkbox":u,u=S.radio?"radio":u;var L=S.class||"",D=!0===f||p||f&&f.checked,E=!S.checkboxEnabled||f&&f.disabled;c=[a.options.cardView?'<div class="card-view '+L+'">':'<td class="bs-checkbox '+L+'">','<input\n              data-index="'+e+'"\n              name="'+a.options.selectItemName+'"\n              type="'+u+'"\n              '+l.sprintf('value="%s"',t[a.options.idField])+"\n              "+l.sprintf('checked="%s"',D?"checked":void 0)+"\n              "+l.sprintf('disabled="%s"',E?"disabled":void 0)+" />",a.header.formatters[n]&&"string"==typeof f?f:"",a.options.cardView?"</div>":"</td>"].join(""),t[a.header.stateField]=!0===f||!!p||f&&f.checked}else{if(f=null==f?a.options.undefinedText:f,a.options.cardView)c='<div class="card-view">'+(a.options.showHeader?'<span class="title"'+h+">"+l.getFieldTitle(a.columns,o)+"</span>":"")+'<span class="value">'+f+"</span></div>",a.options.smartDisplay&&""===f&&(c='<div class="card-view"></div>');else c="<td"+b+v+y+m+w+k+x+">"+f+"</td>"}r.push(c)}}),this.options.cardView&&r.push("</div></td>"),r.push("</tr>"),r.join("")}}},{key:"initBody",value:function(t){var e=this,o=this.getData();this.trigger("pre-body",o),this.$body=this.$el.find(">tbody"),this.$body.length||(this.$body=s("<tbody></tbody>").appendTo(this.$el)),this.options.pagination&&"server"!==this.options.sidePagination||(this.pageFrom=1,this.pageTo=o.length);for(var n=s(document.createDocumentFragment()),a=!1,r=this.pageFrom-1;r<this.pageTo;r++){var h=o[r],d=this.initRow(h,r,o,n);a=a||!!d,d&&"string"==typeof d&&n.append(d)}a?this.$body.html(n):this.$body.html('<tr class="no-records-found">'+l.sprintf('<td colspan="%s">%s</td>',this.$header.find("th").length,this.options.formatNoMatches())+"</tr>"),t||this.scrollTo(0),this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",function(t){var i=t.currentTarget,o=t.type,n=t.target,a=s(i),r=a.parent(),h=e.data[r.data("index")],d=a[0].cellIndex,c=e.getVisibleFields()[e.options.detailView&&!e.options.cardView?d-1:d],p=e.columns[e.fieldsColumnsIndex[c]],f=l.getItemField(h,c,e.options.escape);if(!a.find(".detail-icon").length&&(e.trigger("click"===o?"click-cell":"dbl-click-cell",c,f,h,a),e.trigger("click"===o?"click-row":"dbl-click-row",h,r,c),"click"===o&&e.options.clickToSelect&&p.clickToSelect&&!e.options.ignoreClickToSelectOn(n))){var u=r.find(l.sprintf('[name="%s"]',e.options.selectItemName));u.length&&u[0].click()}}),this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",function(t){t.preventDefault();var i=s(t.currentTarget),n=i.parent().parent(),a=n.data("index"),r=o[a];if(n.next().is("tr.detail-view"))i.find("i").attr("class",l.sprintf("%s %s",e.options.iconsPrefix,e.options.icons.detailOpen)),e.trigger("collapse-row",a,r,n.next()),n.next().remove();else{i.find("i").attr("class",l.sprintf("%s %s",e.options.iconsPrefix,e.options.icons.detailClose)),n.after(l.sprintf('<tr class="detail-view"><td colspan="%s"></td></tr>',n.find("td").length));var h=n.next().find("td"),d=l.calculateObjectValue(e.options,e.options.detailFormatter,[a,r,h],"");1===h.length&&h.append(d),e.trigger("expand-row",a,r,h)}return e.resetView(),!1}),this.$selectItem=this.$body.find(l.sprintf('[name="%s"]',this.options.selectItemName)),this.$selectItem.off("click").on("click",function(t){t.stopImmediatePropagation();var i=s(t.currentTarget);e.check_(i.prop("checked"),i.data("index"))}),this.header.events.forEach(function(t,o){var n=t;if(n){"string"==typeof n&&(n=l.calculateObjectValue(null,n));var a=e.header.fields[o],r=e.getVisibleFields().indexOf(a);if(-1!==r){e.options.detailView&&!e.options.cardView&&(r+=1);var h=function(){if(c){if(p>=d.length)return"break";f=d[p++]}else{if((p=d.next()).done)return"break";f=p.value}var t=i(f,2),o=t[0],n=t[1];e.$body.find(">tr:not(.no-records-found)").each(function(t,i){var l=s(i),h=l.find(e.options.cardView?".card-view":"td").eq(r),d=o.indexOf(" "),c=o.substring(0,d),p=o.substring(d+1);h.find(p).off(c).on(c,function(t){var i=l.data("index"),o=e.data[i],s=o[a];n.apply(e,[t,s,o,i])})})},d=function(t){return Object.keys(t).map(function(i){return[i,t[i]]})}(n),c=Array.isArray(d),p=0;for(d=c?d:d[Symbol.iterator]();;){var f;if("break"===h())break}}}}),this.updateSelected(),this.resetView(),this.trigger("post-body",o)}},{key:"initServer",value:function(t,i,e){var o=this,n={},a=this.header.fields.indexOf(this.options.sortName),r={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};if(this.header.sortNames[a]&&(r.sortName=this.header.sortNames[a]),this.options.pagination&&"server"===this.options.sidePagination&&(r.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,r.pageNumber=this.options.pageNumber),(e||this.options.url||this.options.ajax)&&("limit"===this.options.queryParamsType&&(r={search:r.searchText,sort:r.sortName,order:r.sortOrder},this.options.pagination&&"server"===this.options.sidePagination&&(r.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1),r.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,0===r.limit&&delete r.limit)),s.isEmptyObject(this.filterColumnsPartial)||(r.filter=JSON.stringify(this.filterColumnsPartial,null)),n=l.calculateObjectValue(this.options,this.options.queryParams,[r],n),s.extend(n,i||{}),!1!==n)){t||this.$tableLoading.show();var h=s.extend({},l.calculateObjectValue(null,this.options.ajaxOptions),{type:this.options.method,url:e||this.options.url,data:"application/json"===this.options.contentType&&"post"===this.options.method?JSON.stringify(n):n,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(i){var e=l.calculateObjectValue(o.options,o.options.responseHandler,[i],i);o.load(e),o.trigger("load-success",e),t||o.$tableLoading.hide()},error:function(i){var e=[];"server"===o.options.sidePagination&&((e={})[o.options.totalField]=0,e[o.options.dataField]=[]),o.load(e),o.trigger("load-error",i.status,i),t||o.$tableLoading.hide()}});this.options.ajax?l.calculateObjectValue(this,this.options.ajax,[h],null):(this._xhr&&4!==this._xhr.readyState&&this._xhr.abort(),this._xhr=s.ajax(h))}}},{key:"initSearchText",value:function(){if(this.options.search&&(this.searchText="",""!==this.options.searchText)){var t=this.$toolbar.find(".search input");t.val(this.options.searchText),this.onSearch({currentTarget:t,firedByInitSearchText:!0})}}},{key:"getCaret",value:function(){var t=this;this.$header.find("th").each(function(i,e){s(e).find(".sortable").removeClass("desc asc").addClass(s(e).data("field")===t.options.sortName?t.options.sortOrder:"both")})}},{key:"updateSelected",value:function(){var t=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",t),this.$selectItem.each(function(t,i){s(i).closest("tr")[s(i).prop("checked")?"addClass":"removeClass"]("selected")})}},{key:"updateRows",value:function(){var t=this;this.$selectItem.each(function(i,e){t.data[s(e).data("index")][t.header.stateField]=s(e).prop("checked")})}},{key:"resetRows",value:function(){var t=this.data,i=Array.isArray(t),e=0;for(t=i?t:t[Symbol.iterator]();;){var o;if(i){if(e>=t.length)break;o=t[e++]}else{if((e=t.next()).done)break;o=e.value}var s=o;this.$selectAll.prop("checked",!1),this.$selectItem.prop("checked",!1),this.header.stateField&&(s[this.header.stateField]=!1)}this.initHiddenRows()}},{key:"trigger",value:function(t){for(var i,o=t+".bs.table",n=arguments.length,a=Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];(i=this.options)[e.EVENTS[o]].apply(i,a),this.$el.trigger(s.Event(o),a),this.options.onAll(o,a),this.$el.trigger(s.Event("all.bs.table"),[o,a])}},{key:"resetHeader",value:function(){clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(s.proxy(this.fitHeader,this),this.$el.is(":hidden")?100:0)}},{key:"fitHeader",value:function(){var t=this;if(this.$el.is(":hidden"))this.timeoutId_=setTimeout(s.proxy(this.fitHeader,this),100);else{var i=this.$tableBody.get(0),e=i.scrollWidth>i.clientWidth&&i.scrollHeight>i.clientHeight+this.$header.outerHeight()?l.getScrollBarWidth():0;this.$el.css("margin-top",-this.$header.outerHeight());var o=s(":focus");if(o.length>0){var n=o.parents("th");if(n.length>0){var a=n.attr("data-field");if(void 0!==a){var r=this.$header.find("[data-field='"+a+"']");r.length>0&&r.find(":input").addClass("focus-temp")}}}this.$header_=this.$header.clone(!0,!0),this.$selectAll_=this.$header_.find('[name="btSelectAll"]'),this.$tableHeader.css("margin-right",e).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_);var h=s(".focus-temp:visible:eq(0)");h.length>0&&(h.focus(),this.$header.find(".focus-temp").removeClass("focus-temp")),this.$header.find("th[data-field]").each(function(i,e){t.$header_.find(l.sprintf('th[data-field="%s"]',s(e).data("field"))).data(s(e).data())});for(var d=this.getVisibleFields(),c=this.$header_.find("th"),p=this.$body.find(">tr:first-child:not(.no-records-found)");p.length&&p.find('>td[colspan]:not([colspan="1"])').length;)p=p.next();p.find("> *").each(function(i,e){var o=s(e),n=i;if(t.options.detailView&&!t.options.cardView){if(0===i){var a=c.filter(".detail"),r=a.width()-a.find(".fht-cell").width();a.find(".fht-cell").width(o.innerWidth()-r)}n=i-1}if(-1!==n){var h=t.$header_.find(l.sprintf('th[data-field="%s"]',d[n]));h.length>1&&(h=s(c[o[0].cellIndex]));var p=h.width()-h.find(".fht-cell").width();h.find(".fht-cell").width(o.innerWidth()-p)}}),this.horizontalScroll(),this.trigger("post-header")}}},{key:"resetFooter",value:function(){var t=this.getData(),e=[];if(this.options.showFooter&&!this.options.cardView){!this.options.cardView&&this.options.detailView&&e.push('<th class="detail"><div class="th-inner"></div><div class="fht-cell"></div></th>');var o=this.columns,s=Array.isArray(o),n=0;for(o=s?o:o[Symbol.iterator]();;){var a;if(s){if(n>=o.length)break;a=o[n++]}else{if((n=o.next()).done)break;a=n.value}var r,h,d=a,c=[],p={},f=l.sprintf(' class="%s"',d.class);if(d.visible){if(this.options.cardView&&!d.cardVisible)return;if(r=l.sprintf("text-align: %s; ",d.falign?d.falign:d.align),h=l.sprintf("vertical-align: %s; ",d.valign),(p=l.calculateObjectValue(null,this.options.footerStyle,[d]))&&p.css){var u=function(t){return Object.keys(t).map(function(i){return[i,t[i]]})}(p.css),g=Array.isArray(u),b=0;for(u=g?u:u[Symbol.iterator]();;){var v;if(g){if(b>=u.length)break;v=u[b++]}else{if((b=u.next()).done)break;v=b.value}var y=i(v,2),m=y[0],w=y[1];c.push(m+": "+w)}}p&&p.classes&&(f=l.sprintf(' class="%s"',d.class?[d.class,p.classes].join(" "):p.classes)),e.push("<th",f,l.sprintf(' style="%s"',r+h+c.concat().join("; ")),">"),e.push('<div class="th-inner">'),e.push(l.calculateObjectValue(d,d.footerFormatter,[t],"")),e.push("</div>"),e.push('<div class="fht-cell"></div>'),e.push("</div>"),e.push("</th>")}}this.$tableFooter.find("tr").html(e.join("")),this.$tableFooter.show(),this.fitFooter()}}},{key:"fitFooter",value:function(){var t=this;if(this.$el.is(":hidden"))setTimeout(s.proxy(this.fitFooter,this),100);else{var i=this.$tableBody.get(0),e=i.scrollWidth>i.clientWidth&&i.scrollHeight>i.clientHeight+this.$header.outerHeight()?l.getScrollBarWidth():0;this.$tableFooter.css("margin-right",e).find("table").css("width",this.$el.outerWidth()).attr("class",this.$el.attr("class"));this.getVisibleFields();for(var o=this.$tableFooter.find("th"),n=this.$body.find(">tr:first-child:not(.no-records-found)");n.length&&n.find('>td[colspan]:not([colspan="1"])').length;)n=n.next();n.find("> *").each(function(i,e){var n=s(e),a=i;if(t.options.detailView&&!t.options.cardView){if(0===i){var r=o.filter(".detail"),l=r.width()-r.find(".fht-cell").width();r.find(".fht-cell").width(n.innerWidth()-l)}a=i-1}if(-1!==a){var h=o.eq(i),d=h.width()-h.find(".fht-cell").width();h.find(".fht-cell").width(n.innerWidth()-d)}}),this.horizontalScroll()}}},{key:"horizontalScroll",value:function(){var t=this;this.trigger("scroll-body"),this.$tableBody.off("scroll").on("scroll",function(i){var e=i.currentTarget;t.options.showHeader&&t.options.height&&t.$tableHeader.scrollLeft(s(e).scrollLeft()),t.options.showFooter&&!t.options.cardView&&t.$tableFooter.scrollLeft(s(e).scrollLeft())})}},{key:"toggleColumn",value:function(t,i,e){if(-1!==t&&(this.columns[t].visible=i,this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns)){var o=this.$toolbar.find(".keep-open input").prop("disabled",!1);e&&o.filter(l.sprintf('[value="%s"]',t)).prop("checked",i),o.filter(":checked").length<=this.options.minimumCountColumns&&o.filter(":checked").prop("disabled",!0)}}},{key:"getVisibleFields",value:function(){var t=[],i=this.header.fields,e=Array.isArray(i),o=0;for(i=e?i:i[Symbol.iterator]();;){var s;if(e){if(o>=i.length)break;s=i[o++]}else{if((o=i.next()).done)break;s=o.value}var n=s;this.columns[this.fieldsColumnsIndex[n]].visible&&t.push(n)}return t}},{key:"resetView",value:function(t){var i=0;if(t&&t.height&&(this.options.height=t.height),this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length),this.options.cardView)return this.$el.css("margin-top","0"),this.$tableContainer.css("padding-bottom","0"),void this.$tableFooter.hide();if(this.options.showHeader&&this.options.height?(this.$tableHeader.show(),this.resetHeader(),i+=this.$header.outerHeight()):(this.$tableHeader.hide(),this.trigger("post-header")),this.options.showFooter&&(this.resetFooter(),this.options.height&&(i+=this.$tableFooter.outerHeight())),this.options.height){var e=this.$toolbar.outerHeight(!0),o=this.$pagination.outerHeight(!0),s=this.options.height-e-o,n=this.$tableBody.find("table").outerHeight(!0);this.$tableContainer.css("height",s+"px"),this.$tableBorder&&this.$tableBorder.css("height",s-n-i-1+"px")}this.getCaret(),this.$tableContainer.css("padding-bottom",i+"px"),this.trigger("reset-view")}},{key:"getData",value:function(t){var i=this.options.data;return!this.searchText&&!this.options.sortName&&s.isEmptyObject(this.filterColumns)&&s.isEmptyObject(this.filterColumnsPartial)||(i=this.data),t?i.slice(this.pageFrom-1,this.pageTo):i}},{key:"load",value:function(t){var i,e=t;this.options.pagination&&"server"===this.options.sidePagination&&(this.options.totalRows=e[this.options.totalField]),i=e.fixedScroll,e=Array.isArray(e)?e:e[this.options.dataField],this.initData(e),this.initSearch(),this.initPagination(),this.initBody(i)}},{key:"append",value:function(t){this.initData(t,"append"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:"prepend",value:function(t){this.initData(t,"prepend"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:"remove",value:function(t){var i=this.options.data.length,e=void 0,o=void 0;if(t.hasOwnProperty("field")&&t.hasOwnProperty("values")){for(e=i-1;e>=0;e--)(o=this.options.data[e]).hasOwnProperty(t.field)&&-1!==t.values.indexOf(o[t.field])&&(this.options.data.splice(e,1),"server"===this.options.sidePagination&&(this.options.totalRows-=1));i!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}}},{key:"removeAll",value:function(){this.options.data.length>0&&(this.options.data.splice(0,this.options.data.length),this.initSearch(),this.initPagination(),this.initBody(!0))}},{key:"getRowByUniqueId",value:function(t){var i=this.options.uniqueId,e=t,o=null,s=void 0,n=void 0,a=void 0;for(s=this.options.data.length-1;s>=0;s--){if((n=this.options.data[s]).hasOwnProperty(i))a=n[i];else{if(!n._data||!n._data.hasOwnProperty(i))continue;a=n._data[i]}if("string"==typeof a?e=e.toString():"number"==typeof a&&(Number(a)===a&&a%1==0?e=parseInt(e):a===Number(a)&&0!==a&&(e=parseFloat(e))),a===e){o=n;break}}return o}},{key:"removeByUniqueId",value:function(t){var i=this.options.data.length,e=this.getRowByUniqueId(t);e&&this.options.data.splice(this.options.data.indexOf(e),1),i!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initBody(!0))}},{key:"updateByUniqueId",value:function(t){var i=Array.isArray(t)?t:[t],e=Array.isArray(i),o=0;for(i=e?i:i[Symbol.iterator]();;){var n;if(e){if(o>=i.length)break;n=i[o++]}else{if((o=i.next()).done)break;n=o.value}var a=n;if(a.hasOwnProperty("id")&&a.hasOwnProperty("row")){var r=this.options.data.indexOf(this.getRowByUniqueId(a.id));-1!==r&&s.extend(this.options.data[r],a.row)}}this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:"refreshColumnTitle",value:function(t){t.hasOwnProperty("field")&&t.hasOwnProperty("title")&&(this.columns[this.fieldsColumnsIndex[t.field]].title=this.options.escape?l.escapeHTML(t.title):t.title,this.columns[this.fieldsColumnsIndex[t.field]].visible&&(void 0!==this.options.height?this.$tableHeader:this.$header).find("th[data-field]").each(function(i,e){if(s(e).data("field")===t.field)return s(s(e).find(".th-inner")[0]).text(t.title),!1}))}},{key:"insertRow",value:function(t){t.hasOwnProperty("index")&&t.hasOwnProperty("row")&&(this.options.data.splice(t.index,0,t.row),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}},{key:"updateRow",value:function(t){var i=Array.isArray(t)?t:[t],e=Array.isArray(i),o=0;for(i=e?i:i[Symbol.iterator]();;){var n;if(e){if(o>=i.length)break;n=i[o++]}else{if((o=i.next()).done)break;n=o.value}var a=n;a.hasOwnProperty("index")&&a.hasOwnProperty("row")&&s.extend(this.options.data[a.index],a.row)}this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)}},{key:"initHiddenRows",value:function(){this.hiddenRows=[]}},{key:"showRow",value:function(t){this.toggleRow(t,!0)}},{key:"hideRow",value:function(t){this.toggleRow(t,!1)}},{key:"toggleRow",value:function(t,i){var e=void 0;if(t.hasOwnProperty("index")?e=this.getData()[t.index]:t.hasOwnProperty("uniqueId")&&(e=this.getRowByUniqueId(t.uniqueId)),e){var o=l.findIndex(this.hiddenRows,e);i||-1!==o?i&&o>-1&&this.hiddenRows.splice(o,1):this.hiddenRows.push(e),this.initBody(!0)}}},{key:"getHiddenRows",value:function(t){if(t)return this.initHiddenRows(),void this.initBody(!0);var i=[],e=this.getData(),o=Array.isArray(e),s=0;for(e=o?e:e[Symbol.iterator]();;){var n;if(o){if(s>=e.length)break;n=e[s++]}else{if((s=e.next()).done)break;n=s.value}var a=n;-1!==this.hiddenRows.indexOf(a)&&i.push(a)}return this.hiddenRows=i,i}},{key:"mergeCells",value:function(t){var i=t.index,e=this.getVisibleFields().indexOf(t.field),o=t.rowspan||1,s=t.colspan||1,n=void 0,a=void 0,r=this.$body.find(">tr");this.options.detailView&&!this.options.cardView&&(e+=1);var l=r.eq(i).find(">td").eq(e);if(!(i<0||e<0||i>=this.data.length)){for(n=i;n<i+o;n++)for(a=e;a<e+s;a++)r.eq(n).find(">td").eq(a).hide();l.attr("rowspan",o).attr("colspan",s).show()}}},{key:"updateCell",value:function(t){t.hasOwnProperty("index")&&t.hasOwnProperty("field")&&t.hasOwnProperty("value")&&(this.data[t.index][t.field]=t.value,!1!==t.reinit&&(this.initSort(),this.initBody(!0)))}},{key:"updateCellById",value:function(t){var i=this;t.hasOwnProperty("id")&&t.hasOwnProperty("field")&&t.hasOwnProperty("value")&&((Array.isArray(t)?t:[t]).forEach(function(t){var e=t.id,o=t.field,s=t.value,n=i.options.data.indexOf(i.getRowByUniqueId(e));-1!==n&&(i.data[n][o]=s)}),!1!==t.reinit&&(this.initSort(),this.initBody(!0)))}},{key:"getOptions",value:function(){var t=s.extend({},this.options);return delete t.data,s.extend(!0,{},t)}},{key:"getSelections",value:function(){var t=this;return this.options.data.filter(function(i){return!0===i[t.header.stateField]})}},{key:"getAllSelections",value:function(){var t=this;return this.options.data.filter(function(i){return i[t.header.stateField]})}},{key:"checkAll",value:function(){this.checkAll_(!0)}},{key:"uncheckAll",value:function(){this.checkAll_(!1)}},{key:"checkInvert",value:function(){var t=this.$selectItem.filter(":enabled"),i=t.filter(":checked");t.each(function(t,i){s(i).prop("checked",!s(i).prop("checked"))}),this.updateRows(),this.updateSelected(),this.trigger("uncheck-some",i),i=this.getSelections(),this.trigger("check-some",i)}},{key:"checkAll_",value:function(t){var i=void 0;t||(i=this.getSelections()),this.$selectAll.add(this.$selectAll_).prop("checked",t),this.$selectItem.filter(":enabled").prop("checked",t),this.updateRows(),t&&(i=this.getSelections()),this.trigger(t?"check-all":"uncheck-all",i)}},{key:"check",value:function(t){this.check_(!0,t)}},{key:"uncheck",value:function(t){this.check_(!1,t)}},{key:"check_",value:function(t,i){var e=this.$selectItem.filter('[data-index="'+i+'"]'),o=this.data[i];if(e.is(":radio")||this.options.singleSelect){var s=this.options.data,n=Array.isArray(s),a=0;for(s=n?s:s[Symbol.iterator]();;){var r;if(n){if(a>=s.length)break;r=s[a++]}else{if((a=s.next()).done)break;r=a.value}r[this.header.stateField]=!1}this.$selectItem.filter(":checked").not(e).prop("checked",!1)}o[this.header.stateField]=t,e.prop("checked",t),this.updateSelected(),this.trigger(t?"check":"uncheck",this.data[i],e)}},{key:"checkBy",value:function(t){this.checkBy_(!0,t)}},{key:"uncheckBy",value:function(t){this.checkBy_(!1,t)}},{key:"checkBy_",value:function(t,i){var e=this;if(i.hasOwnProperty("field")&&i.hasOwnProperty("values")){var o=[];this.options.data.forEach(function(s,n){if(!s.hasOwnProperty(i.field))return!1;if(-1!==i.values.indexOf(s[i.field])){var a=e.$selectItem.filter(":enabled").filter(l.sprintf('[data-index="%s"]',n)).prop("checked",t);s[e.header.stateField]=t,o.push(s),e.trigger(t?"check":"uncheck",s,a)}}),this.updateSelected(),this.trigger(t?"check-some":"uncheck-some",o)}}},{key:"destroy",value:function(){this.$el.insertBefore(this.$container),s(this.options.toolbar).insertBefore(this.$el),this.$container.next().remove(),this.$container.remove(),this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")}},{key:"showLoading",value:function(){this.$tableLoading.show()}},{key:"hideLoading",value:function(){this.$tableLoading.hide()}},{key:"togglePagination",value:function(){this.options.pagination=!this.options.pagination;var t=this.$toolbar.find('button[name="paginationSwitch"] i');this.options.pagination?t.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchDown):t.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchUp),this.updatePagination()}},{key:"toggleFullscreen",value:function(){this.$el.closest(".bootstrap-table").toggleClass("fullscreen")}},{key:"refresh",value:function(t){t&&t.url&&(this.options.url=t.url),t&&t.pageNumber&&(this.options.pageNumber=t.pageNumber),t&&t.pageSize&&(this.options.pageSize=t.pageSize),this.initServer(t&&t.silent,t&&t.query,t&&t.url),this.trigger("refresh",t)}},{key:"resetWidth",value:function(){this.options.showHeader&&this.options.height&&this.fitHeader(),this.options.showFooter&&!this.options.cardView&&this.fitFooter()}},{key:"showColumn",value:function(t){this.toggleColumn(this.fieldsColumnsIndex[t],!0,!0)}},{key:"hideColumn",value:function(t){this.toggleColumn(this.fieldsColumnsIndex[t],!1,!0)}},{key:"getHiddenColumns",value:function(){return this.columns.filter(function(t){return!t.visible})}},{key:"getVisibleColumns",value:function(){return this.columns.filter(function(t){return t.visible})}},{key:"toggleAllColumns",value:function(t){var i=this.columns,e=Array.isArray(i),o=0;for(i=e?i:i[Symbol.iterator]();;){var s;if(e){if(o>=i.length)break;s=i[o++]}else{if((o=i.next()).done)break;s=o.value}s.visible=t}if(this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns){var n=this.$toolbar.find(".keep-open input").prop("disabled",!1);n.filter(":checked").length<=this.options.minimumCountColumns&&n.filter(":checked").prop("disabled",!0)}}},{key:"showAllColumns",value:function(){this.toggleAllColumns(!0)}},{key:"hideAllColumns",value:function(){this.toggleAllColumns(!1)}},{key:"filterBy",value:function(t){this.filterColumns=s.isEmptyObject(t)?{}:t,this.options.pageNumber=1,this.initSearch(),this.updatePagination()}},{key:"scrollTo",value:function(t){if(void 0===t)return this.$tableBody.scrollTop();var i=t;"string"==typeof t&&"bottom"===t&&(i=this.$tableBody[0].scrollHeight),this.$tableBody.scrollTop(i)}},{key:"getScrollPosition",value:function(){return this.scrollTo()}},{key:"selectPage",value:function(t){t>0&&t<=this.options.totalPages&&(this.options.pageNumber=t,this.updatePagination())}},{key:"prevPage",value:function(){this.options.pageNumber>1&&(this.options.pageNumber--,this.updatePagination())}},{key:"nextPage",value:function(){this.options.pageNumber<this.options.totalPages&&(this.options.pageNumber++,this.updatePagination())}},{key:"toggleView",value:function(){this.options.cardView=!this.options.cardView,this.initHeader();var t=this.$toolbar.find('button[name="toggle"] i');this.options.cardView?(t.removeClass(this.options.icons.toggleOff),t.addClass(this.options.icons.toggleOn)):(t.removeClass(this.options.icons.toggleOn),t.addClass(this.options.icons.toggleOff)),this.initBody(),this.trigger("toggle",this.options.cardView)}},{key:"refreshOptions",value:function(t){l.compareObjects(this.options,t,!0)||(this.options=s.extend(this.options,t),this.trigger("refresh-options",this.options),this.destroy(),this.init())}},{key:"resetSearch",value:function(t){var i=this.$toolbar.find(".search input");i.val(t||""),this.onSearch({currentTarget:i})}},{key:"expandRow_",value:function(t,i){var e=this.$body.find(l.sprintf('> tr[data-index="%s"]',i));e.next().is("tr.detail-view")===!t&&e.find("> td > .detail-icon").click()}},{key:"expandRow",value:function(t){this.expandRow_(!0,t)}},{key:"collapseRow",value:function(t){this.expandRow_(!1,t)}},{key:"expandAllRows",value:function(t){var i=this;if(t){var e=this.$body.find(l.sprintf('> tr[data-index="%s"]',0)),o=null,n=!1,a=-1;if(e.next().is("tr.detail-view")?e.next().next().is("tr.detail-view")||(e.next().find(".detail-icon").click(),n=!0):(e.find("> td > .detail-icon").click(),n=!0),n)try{a=setInterval(function(){(o=i.$body.find("tr.detail-view").last().find(".detail-icon")).length>0?o.click():clearInterval(a)},1)}catch(t){clearInterval(a)}}else for(var r=this.$body.children(),h=0;h<r.length;h++)this.expandRow_(!0,s(r[h]).data("index"))}},{key:"collapseAllRows",value:function(t){if(t)this.expandRow_(!1,0);else for(var i=this.$body.children(),e=0;e<i.length;e++)this.expandRow_(!1,s(i[e]).data("index"))}},{key:"updateFormatText",value:function(t,i){this.options[l.sprintf("format%s",t)]&&("string"==typeof i?this.options[l.sprintf("format%s",t)]=function(){return i}:"function"==typeof i&&(this.options[l.sprintf("format%s",t)]=i)),this.initToolbar(),this.initPagination(),this.initBody()}}]),e}();p.DEFAULTS=h,p.LOCALES=d,p.COLUMN_DEFAULTS=c,p.EVENTS={"all.bs.table":"onAll","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView","refresh.bs.table":"onRefresh","scroll-body.bs.table":"onScrollBody"};var f=["getOptions","getSelections","getAllSelections","getData","load","append","prepend","remove","removeAll","insertRow","updateRow","updateCell","updateByUniqueId","removeByUniqueId","getRowByUniqueId","showRow","hideRow","getHiddenRows","mergeCells","refreshColumnTitle","checkAll","uncheckAll","checkInvert","check","uncheck","checkBy","uncheckBy","refresh","resetView","resetWidth","destroy","showLoading","hideLoading","showColumn","hideColumn","getHiddenColumns","getVisibleColumns","showAllColumns","hideAllColumns","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","togglePagination","toggleView","refreshOptions","resetSearch","expandRow","collapseRow","expandAllRows","collapseAllRows","updateFormatText","updateCellById"];s.BootstrapTable=p,s.fn.bootstrapTable=function(t){for(var i=arguments.length,e=Array(i>1?i-1:0),n=1;n<i;n++)e[n-1]=arguments[n];var a=void 0;return this.each(function(i,n){var r=s(n).data("bootstrap.table"),l=s.extend({},p.DEFAULTS,s(n).data(),"object"===(void 0===t?"undefined":o(t))&&t);if("string"==typeof t){var h;if(-1===f.indexOf(t))throw new Error("Unknown method: "+t);if(!r)return;a=(h=r)[t].apply(h,e),"destroy"===t&&s(n).removeData("bootstrap.table")}r||s(n).data("bootstrap.table",r=new s.BootstrapTable(n,l))}),void 0===a?this:a},s.fn.bootstrapTable.Constructor=p,s.fn.bootstrapTable.defaults=p.DEFAULTS,s.fn.bootstrapTable.columnDefaults=p.COLUMN_DEFAULTS,s.fn.bootstrapTable.locales=p.LOCALES,s.fn.bootstrapTable.methods=f,s.fn.bootstrapTable.utils=l,s(function(){s('[data-toggle="table"]').bootstrapTable()})}(jQuery)});